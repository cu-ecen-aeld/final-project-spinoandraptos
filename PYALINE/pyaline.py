import sys
from pyaline_util import *
from types import *

c_skip = -1000
c_sub = 3500
c_exp = 4500
c_vwl = 1000

r_c = ['place', 'manner', 'syllabic', 'voice', 'nasal', 'lateral', 'aspirated']
r_v = ['high', 'back', 'round', 'long']

phonemes = ['AA', 'AE', 'AH', 'AO', 'AW', 'AY', 'B', 'CH', 'D', 'DH', 'EH', 'ER', 'EY', 'F', 'G', 'HH', 'IH', 'IY', 'JH', 'K', 'L', 'M', 'N', 'NG', 'OW', 'OY', 'P', 'R', 'S', 'SH', 'T', 'TH', 'UH', 'UW', 'V', 'W', 'Y', 'Z', 'ZH']

epsilon = 0

feature_salience = {'syllabic': 5, 
			'place': 40, 
			'manner': 50, 
			'syllabic': 5,
			'voice': 10, 
			'nasal': 10, 
			'lateral': 10, 
			'aspirated': 5,
			'high': 5, 
			'back': 5,
			'round': 5,
			'long': 1  
			}

def sigma_skip(p, output = False):
		return c_skip
	
def sigma_sub(p, q, output = False):
	p_features = phonemes_features.get(p)
	q_features = phonemes_features.get(q)
	s_d = delta(p_features, q_features, output)
	s_v_p = modified_vowel_cost(p_features, q_features, output)
	s_v_q = vowel_cost(q_features, output)
	return int(c_sub - s_d - s_v_p - s_v_q)

def vowel_cost(p_features, output = False):
	if p_features.get('vowel', 0) == 1:
		return c_vwl
	else:
		return 0

#Modified according to https://sites.google.com/site/similaritymatrices/computing-the-matrices?authuser=0
def modified_vowel_cost(p_features, q_features, output = False):
	if p_features.get('vowel', 0) == 0 or q_features.get('vowel', 0) == 0 or p_features==q_features:
		return 0
	else:
		return c_vwl

def delta(p_features, q_features, output = False):
	if ('vowel' in p_features and p_features['vowel'] == 1) and ('vowel' in q_features and q_features['vowel'] == 1):
		features = r_v
	else:
		features = r_c
	out = 0
	for feature in features:
		out += diff(p_features, q_features, feature, output) * feature_salience[feature]
	return out

def diff(p_features, q_features, feature, output = False):
	temp = sys.maxsize
	p_val = p_features.get(feature, 0)
	q_val = q_features.get(feature, 0)
	if type(p_val) is not list and type(p_val) is not tuple:
		p_vals = (p_val, )
	else:
		p_vals = p_val
	if type(q_val) is not list and type(q_val) is not tuple:
		q_vals = (q_val, )
	else:
		q_vals = q_val
	for i in p_vals:
		for j in q_vals:
			if temp > abs(i - j):
				temp = abs(i - j)
	return temp
	
phoneme_scores_scaled = {('AA', 'AA'): 1.0, ('AA', 'AE'): 0.8223684210526315, ('AA', 'AH'): 0.8223684210526315, ('AA', 'AO'): 0.8026315789473685, ('AA', 'AW'): 0.7828947368421053, ('AA', 'AY'): 0.8289473684210527, ('AA', 'B'): 0.19736842105263158, ('AA', 'CH'): 0.2631578947368421, ('AA', 'D'): 0.27631578947368424, ('AA', 'DH'): 0.3815789473684211, ('AA', 'EH'): 0.7894736842105263, ('AA', 'ER'): 0.8355263157894737, ('AA', 'EY'): 0.7894736842105263, ('AA', 'F'): 0.2236842105263158, ('AA', 'G'): 0.40789473684210525, ('AA', 'HH'): 0.14473684210526316, ('AA', 'IH'): 0.7894736842105263, ('AA', 'IY'): 0.7697368421052632, ('AA', 'JH'): 0.39473684210526316, ('AA', 'K'): 0.21052631578947367, ('AA', 'L'): 0.40789473684210525, ('AA', 'M'): 0.06578947368421052, ('AA', 'N'): 0.14473684210526316, ('AA', 'NG'): 0.27631578947368424, ('AA', 'OW'): 0.7236842105263158, ('AA', 'OY'): 0.8026315789473685, ('AA', 'P'): 0.0, ('AA', 'R'): 0.5394736842105263, ('AA', 'S'): 0.27631578947368424, ('AA', 'SH'): 0.32894736842105265, ('AA', 'T'): 0.07894736842105263, ('AA', 'TH'): 0.25, ('AA', 'UH'): 0.756578947368421, ('AA', 'UW'): 0.7039473684210527, ('AA', 'V'): 0.35526315789473684, ('AA', 'W'): 0.5657894736842105, ('AA', 'Y'): 0.6710526315789473, ('AA', 'Z'): 0.40789473684210525, ('AA', 'ZH'): 0.40789473684210525, ('AE', 'AE'): 1.0, ('AE', 'AH'): 0.7916666666666666, ('AE', 'AO'): 0.7430555555555556, ('AE', 'AW'): 0.7222222222222222, ('AE', 'AY'): 0.7986111111111112, ('AE', 'B'): 0.20833333333333334, ('AE', 'CH'): 0.2777777777777778, ('AE', 'D'): 0.2916666666666667, ('AE', 'DH'): 0.4027777777777778, ('AE', 'EH'): 0.8263888888888888, ('AE', 'ER'): 0.7777777777777778, ('AE', 'EY'): 0.7986111111111112, ('AE', 'F'): 0.2361111111111111, ('AE', 'G'): 0.3194444444444444, ('AE', 'HH'): 0.041666666666666664, ('AE', 'IH'): 0.8263888888888888, ('AE', 'IY'): 0.7777777777777778, ('AE', 'JH'): 0.4166666666666667, ('AE', 'K'): 0.1111111111111111, ('AE', 'L'): 0.4305555555555556, ('AE', 'M'): 0.06944444444444445, ('AE', 'N'): 0.1527777777777778, ('AE', 'NG'): 0.18055555555555555, ('AE', 'OW'): 0.6597222222222222, ('AE', 'OY'): 0.7708333333333334, ('AE', 'P'): 0.0, ('AE', 'R'): 0.5694444444444444, ('AE', 'S'): 0.2916666666666667, ('AE', 'SH'): 0.3472222222222222, ('AE', 'T'): 0.08333333333333333, ('AE', 'TH'): 0.2638888888888889, ('AE', 'UH'): 0.7222222222222222, ('AE', 'UW'): 0.6388888888888888, ('AE', 'V'): 0.375, ('AE', 'W'): 0.5972222222222222, ('AE', 'Y'): 0.5972222222222222, ('AE', 'Z'): 0.4305555555555556, ('AE', 'ZH'): 0.4305555555555556, ('AH', 'AH'): 1.0, ('AH', 'AO'): 0.7196969696969697, ('AH', 'AW'): 0.7575757575757576, ('AH', 'AY'): 0.8106060606060606, ('AH', 'B'): 0.22727272727272727, ('AH', 'CH'): 0.30303030303030304, ('AH', 'D'): 0.3181818181818182, ('AH', 'DH'): 0.4393939393939394, ('AH', 'EH'): 0.8106060606060606, ('AH', 'ER'): 0.8333333333333334, ('AH', 'EY'): 0.7803030303030303, ('AH', 'F'): 0.25757575757575757, ('AH', 'G'): 0.4696969696969697, ('AH', 'HH'): 0.16666666666666666, ('AH', 'IH'): 0.8106060606060606, ('AH', 'IY'): 0.7575757575757576, ('AH', 'JH'): 0.45454545454545453, ('AH', 'K'): 0.24242424242424243, ('AH', 'L'): 0.4696969696969697, ('AH', 'M'): 0.07575757575757576, ('AH', 'N'): 0.16666666666666666, ('AH', 'NG'): 0.3181818181818182, ('AH', 'OW'): 0.7045454545454546, ('AH', 'OY'): 0.8257575757575758, ('AH', 'P'): 0.0, ('AH', 'R'): 0.6212121212121212, ('AH', 'S'): 0.3181818181818182, ('AH', 'SH'): 0.3787878787878788, ('AH', 'T'): 0.09090909090909091, ('AH', 'TH'): 0.2878787878787879, ('AH', 'UH'): 0.7727272727272727, ('AH', 'UW'): 0.6818181818181818, ('AH', 'V'): 0.4090909090909091, ('AH', 'W'): 0.6515151515151515, ('AH', 'Y'): 0.7727272727272727, ('AH', 'Z'): 0.4696969696969697, ('AH', 'ZH'): 0.4696969696969697, ('AO', 'AO'): 1.0, ('AO', 'AW'): 0.7697368421052632, ('AO', 'AY'): 0.7631578947368421, ('AO', 'B'): 0.19736842105263158, ('AO', 'CH'): 0.2631578947368421, ('AO', 'D'): 0.27631578947368424, ('AO', 'DH'): 0.3815789473684211, ('AO', 'EH'): 0.7236842105263158, ('AO', 'ER'): 0.7697368421052632, ('AO', 'EY'): 0.7236842105263158, ('AO', 'F'): 0.2236842105263158, ('AO', 'G'): 0.40789473684210525, ('AO', 'HH'): 0.14473684210526316, ('AO', 'IH'): 0.7236842105263158, ('AO', 'IY'): 0.7039473684210527, ('AO', 'JH'): 0.39473684210526316, ('AO', 'K'): 0.21052631578947367, ('AO', 'L'): 0.40789473684210525, ('AO', 'M'): 0.06578947368421052, ('AO', 'N'): 0.14473684210526316, ('AO', 'NG'): 0.27631578947368424, ('AO', 'OW'): 0.7894736842105263, ('AO', 'OY'): 0.7368421052631579, ('AO', 'P'): 0.0, ('AO', 'R'): 0.5394736842105263, ('AO', 'S'): 0.27631578947368424, ('AO', 'SH'): 0.32894736842105265, ('AO', 'T'): 0.07894736842105263, ('AO', 'TH'): 0.25, ('AO', 'UH'): 0.6907894736842105, ('AO', 'UW'): 0.7697368421052632, ('AO', 'V'): 0.35526315789473684, ('AO', 'W'): 0.5657894736842105, ('AO', 'Y'): 0.6710526315789473, ('AO', 'Z'): 0.40789473684210525, ('AO', 'ZH'): 0.40789473684210525, ('AW', 'AW'): 1.0, ('AW', 'AY'): 0.7720588235294118, ('AW', 'B'): 0.22058823529411764, ('AW', 'CH'): 0.29411764705882354, ('AW', 'D'): 0.3088235294117647, ('AW', 'DH'): 0.4264705882352941, ('AW', 'EH'): 0.7279411764705882, ('AW', 'ER'): 0.7794117647058824, ('AW', 'EY'): 0.7279411764705882, ('AW', 'F'): 0.25, ('AW', 'G'): 0.45588235294117646, ('AW', 'HH'): 0.16176470588235295, ('AW', 'IH'): 0.7279411764705882, ('AW', 'IY'): 0.7058823529411765, ('AW', 'JH'): 0.4411764705882353, ('AW', 'K'): 0.23529411764705882, ('AW', 'L'): 0.45588235294117646, ('AW', 'M'): 0.07352941176470588, ('AW', 'N'): 0.16176470588235295, ('AW', 'NG'): 0.3088235294117647, ('AW', 'OW'): 0.7867647058823529, ('AW', 'OY'): 0.7573529411764706, ('AW', 'P'): 0.0, ('AW', 'R'): 0.6029411764705882, ('AW', 'S'): 0.3088235294117647, ('AW', 'SH'): 0.36764705882352944, ('AW', 'T'): 0.08823529411764706, ('AW', 'TH'): 0.27941176470588236, ('AW', 'UH'): 0.7647058823529411, ('AW', 'UW'): 0.7647058823529411, ('AW', 'V'): 0.39705882352941174, ('AW', 'W'): 0.6323529411764706, ('AW', 'Y'): 0.75, ('AW', 'Z'): 0.45588235294117646, ('AW', 'ZH'): 0.45588235294117646, ('AY', 'AY'): 1.0, ('AY', 'B'): 0.234375, ('AY', 'CH'): 0.3125, ('AY', 'D'): 0.328125, ('AY', 'DH'): 0.453125, ('AY', 'EH'): 0.796875, ('AY', 'ER'): 0.8203125, ('AY', 'EY'): 0.796875, ('AY', 'F'): 0.265625, ('AY', 'G'): 0.359375, ('AY', 'HH'): 0.046875, ('AY', 'IH'): 0.796875, ('AY', 'IY'): 0.7734375, ('AY', 'JH'): 0.46875, ('AY', 'K'): 0.125, ('AY', 'L'): 0.484375, ('AY', 'M'): 0.078125, ('AY', 'N'): 0.171875, ('AY', 'NG'): 0.203125, ('AY', 'OW'): 0.6875, ('AY', 'OY'): 0.78125, ('AY', 'P'): 0.0, ('AY', 'R'): 0.640625, ('AY', 'S'): 0.328125, ('AY', 'SH'): 0.390625, ('AY', 'T'): 0.09375, ('AY', 'TH'): 0.296875, ('AY', 'UH'): 0.7265625, ('AY', 'UW'): 0.6640625, ('AY', 'V'): 0.421875, ('AY', 'W'): 0.671875, ('AY', 'Y'): 0.671875, ('AY', 'Z'): 0.484375, ('AY', 'ZH'): 0.484375, ('B', 'B'): 1.0, ('B', 'CH'): 0.647887323943662, ('B', 'D'): 0.9154929577464789, ('B', 'DH'): 0.8028169014084507, ('B', 'EH'): 0.056338028169014086, ('B', 'ER'): 0.0, ('B', 'EY'): 0.11267605633802817, ('B', 'F'): 0.6901408450704225, ('B', 'G'): 0.7746478873239436, ('B', 'HH'): 0.2112676056338028, ('B', 'IH'): 0.056338028169014086, ('B', 'IY'): 0.19718309859154928, ('B', 'JH'): 0.7887323943661971, ('B', 'K'): 0.5633802816901409, ('B', 'L'): 0.49295774647887325, ('B', 'M'): 0.8591549295774648, ('B', 'N'): 0.7746478873239436, ('B', 'NG'): 0.6338028169014085, ('B', 'OW'): 0.056338028169014086, ('B', 'OY'): 0.07887323943661974, ('B', 'P'): 0.7887323943661971, ('B', 'R'): 0.6338028169014085, ('B', 'S'): 0.6338028169014085, ('B', 'SH'): 0.5774647887323944, ('B', 'T'): 0.704225352112676, ('B', 'TH'): 0.6619718309859155, ('B', 'UH'): 0.14084507042253522, ('B', 'UW'): 0.14084507042253522, ('B', 'V'): 0.8309859154929577, ('B', 'W'): 0.6056338028169014, ('B', 'Y'): 0.49295774647887325, ('B', 'Z'): 0.7746478873239436, ('B', 'ZH'): 0.7746478873239436, ('CH', 'CH'): 1.0, ('CH', 'D'): 0.7121212121212122, ('CH', 'DH'): 0.6818181818181818, ('CH', 'EH'): 0.06060606060606061, ('CH', 'ER'): 0.0, ('CH', 'EY'): 0.12121212121212122, ('CH', 'F'): 0.803030303030303, ('CH', 'G'): 0.6818181818181818, ('CH', 'HH'): 0.5303030303030303, ('CH', 'IH'): 0.06060606060606061, ('CH', 'IY'): 0.21212121212121213, ('CH', 'JH'): 0.8484848484848485, ('CH', 'K'): 0.7575757575757576, ('CH', 'L'): 0.4090909090909091, ('CH', 'M'): 0.4696969696969697, ('CH', 'N'): 0.5606060606060606, ('CH', 'NG'): 0.5303030303030303, ('CH', 'OW'): 0.06060606060606061, ('CH', 'OY'): 0.08484848484848487, ('CH', 'P'): 0.696969696969697, ('CH', 'R'): 0.5606060606060606, ('CH', 'S'): 0.8636363636363636, ('CH', 'SH'): 0.9242424242424242, ('CH', 'T'): 0.7878787878787878, ('CH', 'TH'): 0.8333333333333334, ('CH', 'UH'): 0.15151515151515152, ('CH', 'UW'): 0.15151515151515152, ('CH', 'V'): 0.6515151515151515, ('CH', 'W'): 0.5909090909090909, ('CH', 'Y'): 0.5303030303030303, ('CH', 'Z'): 0.7121212121212122, ('CH', 'ZH'): 0.7121212121212122, ('D', 'D'): 1.0, ('D', 'DH'): 0.8153846153846154, ('D', 'EH'): 0.06153846153846154, ('D', 'ER'): 0.0, ('D', 'EY'): 0.12307692307692308, ('D', 'F'): 0.6307692307692307, ('D', 'G'): 0.8461538461538461, ('D', 'HH'): 0.23076923076923078, ('D', 'IH'): 0.06153846153846154, ('D', 'IY'): 0.2153846153846154, ('D', 'JH'): 0.8615384615384616, ('D', 'K'): 0.6153846153846154, ('D', 'L'): 0.5384615384615384, ('D', 'M'): 0.7538461538461538, ('D', 'N'): 0.8461538461538461, ('D', 'NG'): 0.6923076923076923, ('D', 'OW'): 0.06153846153846154, ('D', 'OY'): 0.08615384615384618, ('D', 'P'): 0.676923076923077, ('D', 'R'): 0.6923076923076923, ('D', 'S'): 0.6923076923076923, ('D', 'SH'): 0.6307692307692307, ('D', 'T'): 0.7692307692307693, ('D', 'TH'): 0.6615384615384615, ('D', 'UH'): 0.15384615384615385, ('D', 'UW'): 0.15384615384615385, ('D', 'V'): 0.7846153846153846, ('D', 'W'): 0.6615384615384615, ('D', 'Y'): 0.5384615384615384, ('D', 'Z'): 0.8461538461538461, ('D', 'ZH'): 0.8461538461538461, ('DH', 'DH'): 1.0, ('DH', 'EH'): 0.07017543859649122, ('DH', 'ER'): 0.0, ('DH', 'EY'): 0.14035087719298245, ('DH', 'F'): 0.7894736842105263, ('DH', 'G'): 0.6140350877192983, ('DH', 'HH'): 0.2631578947368421, ('DH', 'IH'): 0.07017543859649122, ('DH', 'IY'): 0.24561403508771928, ('DH', 'JH'): 0.8070175438596491, ('DH', 'K'): 0.3508771929824561, ('DH', 'L'): 0.6140350877192983, ('DH', 'M'): 0.5789473684210527, ('DH', 'N'): 0.6140350877192983, ('DH', 'NG'): 0.43859649122807015, ('DH', 'OW'): 0.07017543859649122, ('DH', 'OY'): 0.09824561403508775, ('DH', 'P'): 0.49122807017543857, ('DH', 'R'): 0.7894736842105263, ('DH', 'S'): 0.7894736842105263, ('DH', 'SH'): 0.7192982456140351, ('DH', 'T'): 0.5263157894736842, ('DH', 'TH'): 0.8245614035087719, ('DH', 'UH'): 0.17543859649122806, ('DH', 'UW'): 0.17543859649122806, ('DH', 'V'): 0.9649122807017544, ('DH', 'W'): 0.7543859649122807, ('DH', 'Y'): 0.6140350877192983, ('DH', 'Z'): 0.9649122807017544, ('DH', 'ZH'): 0.9649122807017544, ('EH', 'EH'): 1.0, ('EH', 'ER'): 0.782258064516129, ('EH', 'EY'): 0.8064516129032258, ('EH', 'F'): 0.27419354838709675, ('EH', 'G'): 0.3709677419354839, ('EH', 'HH'): 0.04838709677419355, ('EH', 'IH'): 1.0, ('EH', 'IY'): 0.782258064516129, ('EH', 'JH'): 0.4838709677419355, ('EH', 'K'): 0.12903225806451613, ('EH', 'L'): 0.5, ('EH', 'M'): 0.08064516129032258, ('EH', 'N'): 0.1774193548387097, ('EH', 'NG'): 0.20967741935483872, ('EH', 'OW'): 0.6451612903225806, ('EH', 'OY'): 0.7741935483870968, ('EH', 'P'): 0.0, ('EH', 'R'): 0.6612903225806451, ('EH', 'S'): 0.3387096774193548, ('EH', 'SH'): 0.4032258064516129, ('EH', 'T'): 0.0967741935483871, ('EH', 'TH'): 0.3064516129032258, ('EH', 'UH'): 0.717741935483871, ('EH', 'UW'): 0.6209677419354839, ('EH', 'V'): 0.43548387096774194, ('EH', 'W'): 0.6935483870967742, ('EH', 'Y'): 0.6935483870967742, ('EH', 'Z'): 0.5, ('EH', 'ZH'): 0.5, ('ER', 'ER'): 1.0, ('ER', 'EY'): 0.7954545454545454, ('ER', 'F'): 0.25757575757575757, ('ER', 'G'): 0.4696969696969697, ('ER', 'HH'): 0.16666666666666666, ('ER', 'IH'): 0.7954545454545454, ('ER', 'IY'): 0.7727272727272727, ('ER', 'JH'): 0.45454545454545453, ('ER', 'K'): 0.24242424242424243, ('ER', 'L'): 0.4696969696969697, ('ER', 'M'): 0.07575757575757576, ('ER', 'N'): 0.16666666666666666, ('ER', 'NG'): 0.3181818181818182, ('ER', 'OW'): 0.7196969696969697, ('ER', 'OY'): 0.8106060606060606, ('ER', 'P'): 0.0, ('ER', 'R'): 0.6212121212121212, ('ER', 'S'): 0.3181818181818182, ('ER', 'SH'): 0.3787878787878788, ('ER', 'T'): 0.09090909090909091, ('ER', 'TH'): 0.2878787878787879, ('ER', 'UH'): 0.7575757575757576, ('ER', 'UW'): 0.696969696969697, ('ER', 'V'): 0.4090909090909091, ('ER', 'W'): 0.6515151515151515, ('ER', 'Y'): 0.7727272727272727, ('ER', 'Z'): 0.4696969696969697, ('ER', 'ZH'): 0.4696969696969697, ('EY', 'EY'): 1.0, ('EY', 'F'): 0.29310344827586204, ('EY', 'G'): 0.39655172413793105, ('EY', 'HH'): 0.05172413793103448, ('EY', 'IH'): 0.7931034482758621, ('EY', 'IY'): 0.8017241379310345, ('EY', 'JH'): 0.5172413793103449, ('EY', 'K'): 0.13793103448275862, ('EY', 'L'): 0.5344827586206896, ('EY', 'M'): 0.08620689655172414, ('EY', 'N'): 0.1896551724137931, ('EY', 'NG'): 0.22413793103448276, ('EY', 'OW'): 0.6551724137931034, ('EY', 'OY'): 0.7586206896551724, ('EY', 'P'): 0.0, ('EY', 'R'): 0.7068965517241379, ('EY', 'S'): 0.3620689655172414, ('EY', 'SH'): 0.43103448275862066, ('EY', 'T'): 0.10344827586206896, ('EY', 'TH'): 0.3275862068965517, ('EY', 'UH'): 0.6982758620689655, ('EY', 'UW'): 0.6293103448275862, ('EY', 'V'): 0.46551724137931033, ('EY', 'W'): 0.7413793103448276, ('EY', 'Y'): 0.7413793103448276, ('EY', 'Z'): 0.5344827586206896, ('EY', 'ZH'): 0.5344827586206896, ('F', 'F'): 1.0, ('F', 'G'): 0.47692307692307695, ('F', 'HH'): 0.47692307692307695, ('F', 'IH'): 0.0, ('F', 'IY'): 0.15384615384615385, ('F', 'JH'): 0.6461538461538462, ('F', 'K'): 0.5538461538461539, ('F', 'L'): 0.47692307692307695, ('F', 'M'): 0.5076923076923077, ('F', 'N'): 0.47692307692307695, ('F', 'NG'): 0.3230769230769231, ('F', 'OW'): 0.0, ('F', 'OY'): 0.024615384615384636, ('F', 'P'): 0.7384615384615385, ('F', 'R'): 0.6307692307692307, ('F', 'S'): 0.9384615384615385, ('F', 'SH'): 0.8769230769230769, ('F', 'T'): 0.7076923076923077, ('F', 'TH'): 0.9692307692307692, ('F', 'UH'): 0.09230769230769231, ('F', 'UW'): 0.09230769230769231, ('F', 'V'): 0.8461538461538461, ('F', 'W'): 0.6, ('F', 'Y'): 0.47692307692307695, ('F', 'Z'): 0.7846153846153846, ('F', 'ZH'): 0.7846153846153846, ('G', 'G'): 1.0, ('G', 'HH'): 0.3220338983050847, ('G', 'IH'): 0.0, ('G', 'IY'): 0.1694915254237288, ('G', 'JH'): 0.8135593220338984, ('G', 'K'): 0.7457627118644068, ('G', 'L'): 0.3220338983050847, ('G', 'M'): 0.559322033898305, ('G', 'N'): 0.6610169491525424, ('G', 'NG'): 0.8305084745762712, ('G', 'OW'): 0.13559322033898305, ('G', 'OY'): 0.10847457627118641, ('G', 'P'): 0.4745762711864407, ('G', 'R'): 0.4915254237288136, ('G', 'S'): 0.4915254237288136, ('G', 'SH'): 0.559322033898305, ('G', 'T'): 0.576271186440678, ('G', 'TH'): 0.4576271186440678, ('G', 'UH'): 0.23728813559322035, ('G', 'UW'): 0.23728813559322035, ('G', 'V'): 0.5932203389830508, ('G', 'W'): 0.5254237288135594, ('G', 'Y'): 0.6610169491525424, ('G', 'Z'): 0.6610169491525424, ('G', 'ZH'): 0.6610169491525424, ('HH', 'HH'): 1.0, ('HH', 'IH'): 0.0, ('HH', 'IY'): 0.12658227848101267, ('HH', 'JH'): 0.4810126582278481, ('HH', 'K'): 0.5569620253164557, ('HH', 'L'): 0.24050632911392406, ('HH', 'M'): 0.16455696202531644, ('HH', 'N'): 0.24050632911392406, ('HH', 'NG'): 0.3670886075949367, ('HH', 'OW'): 0.10126582278481013, ('HH', 'OY'): 0.08101265822784809, ('HH', 'P'): 0.35443037974683544, ('HH', 'R'): 0.3670886075949367, ('HH', 'S'): 0.620253164556962, ('HH', 'SH'): 0.6708860759493671, ('HH', 'T'): 0.43037974683544306, ('HH', 'TH'): 0.5949367088607594, ('HH', 'UH'): 0.17721518987341772, ('HH', 'UW'): 0.17721518987341772, ('HH', 'V'): 0.4430379746835443, ('HH', 'W'): 0.3924050632911392, ('HH', 'Y'): 0.4936708860759494, ('HH', 'Z'): 0.4936708860759494, ('HH', 'ZH'): 0.4936708860759494, ('IH', 'IH'): 1.0, ('IH', 'IY'): 0.782258064516129, ('IH', 'JH'): 0.4838709677419355, ('IH', 'K'): 0.12903225806451613, ('IH', 'L'): 0.5, ('IH', 'M'): 0.08064516129032258, ('IH', 'N'): 0.1774193548387097, ('IH', 'NG'): 0.20967741935483872, ('IH', 'OW'): 0.6451612903225806, ('IH', 'OY'): 0.7741935483870968, ('IH', 'P'): 0.0, ('IH', 'R'): 0.6612903225806451, ('IH', 'S'): 0.3387096774193548, ('IH', 'SH'): 0.4032258064516129, ('IH', 'T'): 0.0967741935483871, ('IH', 'TH'): 0.3064516129032258, ('IH', 'UH'): 0.717741935483871, ('IH', 'UW'): 0.6209677419354839, ('IH', 'V'): 0.43548387096774194, ('IH', 'W'): 0.6935483870967742, ('IH', 'Y'): 0.6935483870967742, ('IH', 'Z'): 0.5, ('IH', 'ZH'): 0.5, ('IY', 'IY'): 1.0, ('IY', 'JH'): 0.5769230769230769, ('IY', 'K'): 0.15384615384615385, ('IY', 'L'): 0.5961538461538461, ('IY', 'M'): 0.09615384615384616, ('IY', 'N'): 0.21153846153846154, ('IY', 'NG'): 0.25, ('IY', 'OW'): 0.5865384615384616, ('IY', 'OY'): 0.7019230769230769, ('IY', 'P'): 0.0, ('IY', 'R'): 0.7884615384615384, ('IY', 'S'): 0.40384615384615385, ('IY', 'SH'): 0.4807692307692308, ('IY', 'T'): 0.11538461538461539, ('IY', 'TH'): 0.36538461538461536, ('IY', 'UH'): 0.6923076923076923, ('IY', 'UW'): 0.6153846153846154, ('IY', 'V'): 0.5192307692307693, ('IY', 'W'): 0.8269230769230769, ('IY', 'Y'): 0.8269230769230769, ('IY', 'Z'): 0.5961538461538461, ('IY', 'ZH'): 0.5961538461538461, ('JH', 'JH'): 1.0, ('JH', 'K'): 0.5, ('JH', 'L'): 0.4423076923076923, ('JH', 'M'): 0.5192307692307693, ('JH', 'N'): 0.6346153846153846, ('JH', 'NG'): 0.5961538461538461, ('JH', 'OW'): 0.0, ('JH', 'OY'): 0.030769230769230764, ('JH', 'P'): 0.4230769230769231, ('JH', 'R'): 0.6346153846153846, ('JH', 'S'): 0.6346153846153846, ('JH', 'SH'): 0.7115384615384616, ('JH', 'T'): 0.5384615384615384, ('JH', 'TH'): 0.5961538461538461, ('JH', 'UH'): 0.11538461538461539, ('JH', 'UW'): 0.11538461538461539, ('JH', 'V'): 0.75, ('JH', 'W'): 0.6730769230769231, ('JH', 'Y'): 0.5961538461538461, ('JH', 'Z'): 0.8269230769230769, ('JH', 'ZH'): 0.8269230769230769, ('K', 'K'): 1.0, ('K', 'L'): 0.18639053254437873, ('K', 'M'): 0.3934911242603551, ('K', 'N'): 0.48224852071005925, ('K', 'NG'): 0.6301775147928995, ('K', 'OW'): 0.02366863905325446, ('K', 'OY'): 0.0, ('K', 'P'): 0.7633136094674557, ('K', 'R'): 0.334319526627219, ('K', 'S'): 0.6301775147928995, ('K', 'SH'): 0.6893491124260356, ('K', 'T'): 0.8520710059171599, ('K', 'TH'): 0.6005917159763314, ('K', 'UH'): 0.11242603550295861, ('K', 'UW'): 0.11242603550295861, ('K', 'V'): 0.42307692307692313, ('K', 'W'): 0.363905325443787, ('K', 'Y'): 0.48224852071005925, ('K', 'Z'): 0.48224852071005925, ('K', 'ZH'): 0.48224852071005925, ('L', 'L'): 1.0, ('L', 'M'): 0.09803921568627451, ('L', 'N'): 0.21568627450980393, ('L', 'NG'): 0.0196078431372549, ('L', 'OW'): 0.0, ('L', 'OY'): 0.031372549019607836, ('L', 'P'): 0.0, ('L', 'R'): 0.803921568627451, ('L', 'S'): 0.4117647058823529, ('L', 'SH'): 0.3333333333333333, ('L', 'T'): 0.11764705882352941, ('L', 'TH'): 0.37254901960784315, ('L', 'UH'): 0.11764705882352941, ('L', 'UW'): 0.11764705882352941, ('L', 'V'): 0.5294117647058824, ('L', 'W'): 0.7647058823529411, ('L', 'Y'): 0.6078431372549019, ('L', 'Z'): 0.6078431372549019, ('L', 'ZH'): 0.6078431372549019, ('M', 'M'): 1.0, ('M', 'N'): 0.922077922077922, ('M', 'NG'): 0.7922077922077922, ('M', 'OW'): 0.0, ('M', 'OY'): 0.020779220779220797, ('M', 'P'): 0.6753246753246753, ('M', 'R'): 0.5324675324675324, ('M', 'S'): 0.5324675324675324, ('M', 'SH'): 0.4805194805194805, ('M', 'T'): 0.5974025974025974, ('M', 'TH'): 0.5584415584415584, ('M', 'UH'): 0.07792207792207792, ('M', 'UW'): 0.07792207792207792, ('M', 'V'): 0.7142857142857143, ('M', 'W'): 0.5064935064935064, ('M', 'Y'): 0.4025974025974026, ('M', 'Z'): 0.6623376623376623, ('M', 'ZH'): 0.6623376623376623, ('N', 'N'): 1.0, ('N', 'NG'): 0.8591549295774648, ('N', 'OW'): 0.0, ('N', 'OY'): 0.022535211267605652, ('N', 'P'): 0.5633802816901409, ('N', 'R'): 0.5774647887323944, ('N', 'S'): 0.5774647887323944, ('N', 'SH'): 0.5211267605633803, ('N', 'T'): 0.647887323943662, ('N', 'TH'): 0.5492957746478874, ('N', 'UH'): 0.08450704225352113, ('N', 'UW'): 0.08450704225352113, ('N', 'V'): 0.6619718309859155, ('N', 'W'): 0.5492957746478874, ('N', 'Y'): 0.43661971830985913, ('N', 'Z'): 0.7183098591549296, ('N', 'ZH'): 0.7183098591549296, ('NG', 'NG'): 1.0, ('NG', 'OW'): 0.025559105431309927, ('NG', 'OY'): 0.0, ('NG', 'P'): 0.34504792332268375, ('NG', 'R'): 0.3610223642172524, ('NG', 'S'): 0.3610223642172524, ('NG', 'SH'): 0.4249201277955272, ('NG', 'T'): 0.44089456869009586, ('NG', 'TH'): 0.329073482428115, ('NG', 'UH'): 0.12140575079872207, ('NG', 'UW'): 0.12140575079872207, ('NG', 'V'): 0.45686900958466453, ('NG', 'W'): 0.3929712460063898, ('NG', 'Y'): 0.5207667731629393, ('NG', 'Z'): 0.5207667731629393, ('NG', 'ZH'): 0.5207667731629393, ('OW', 'OW'): 1.0, ('OW', 'OY'): 0.7096774193548387, ('OW', 'P'): 0.0, ('OW', 'R'): 0.6612903225806451, ('OW', 'S'): 0.3387096774193548, ('OW', 'SH'): 0.4032258064516129, ('OW', 'T'): 0.0967741935483871, ('OW', 'TH'): 0.3064516129032258, ('OW', 'UH'): 0.717741935483871, ('OW', 'UW'): 0.8145161290322581, ('OW', 'V'): 0.43548387096774194, ('OW', 'W'): 0.6935483870967742, ('OW', 'Y'): 0.8225806451612904, ('OW', 'Z'): 0.5, ('OW', 'ZH'): 0.5, ('OY', 'OY'): 1.0, ('OY', 'P'): 0.0, ('OY', 'R'): 0.6788079470198676, ('OY', 'S'): 0.347682119205298, ('OY', 'SH'): 0.4139072847682119, ('OY', 'T'): 0.09933774834437087, ('OY', 'TH'): 0.31456953642384106, ('OY', 'UH'): 0.7764900662251656, ('OY', 'UW'): 0.6771523178807947, ('OY', 'V'): 0.4470198675496689, ('OY', 'W'): 0.7119205298013245, ('OY', 'Y'): 0.7913907284768211, ('OY', 'Z'): 0.5132450331125827, ('OY', 'ZH'): 0.5132450331125827, ('P', 'P'): 1.0, ('P', 'R'): 0.4605263157894737, ('P', 'S'): 0.7236842105263158, ('P', 'SH'): 0.6710526315789473, ('P', 'T'): 0.9210526315789473, ('P', 'TH'): 0.75, ('P', 'UH'): 0.0, ('P', 'UW'): 0.0, ('P', 'V'): 0.6447368421052632, ('P', 'W'): 0.4342105263157895, ('P', 'Y'): 0.32894736842105265, ('P', 'Z'): 0.5921052631578947, ('P', 'ZH'): 0.5921052631578947, ('R', 'R'): 1.0, ('R', 'S'): 0.42857142857142855, ('R', 'SH'): 0.3142857142857143, ('R', 'T'): 0.0, ('R', 'TH'): 0.37142857142857144, ('R', 'UH'): 0.0, ('R', 'UW'): 0.0, ('R', 'V'): 0.6, ('R', 'W'): 0.9428571428571428, ('R', 'Y'): 0.7142857142857143, ('R', 'Z'): 0.7142857142857143, ('R', 'ZH'): 0.7142857142857143, ('S', 'S'): 1.0, ('S', 'SH'): 0.9272727272727272, ('S', 'T'): 0.7272727272727273, ('S', 'TH'): 0.9636363636363636, ('S', 'UH'): 0.0, ('S', 'UW'): 0.0, ('S', 'V'): 0.7454545454545455, ('S', 'W'): 0.6, ('S', 'Y'): 0.45454545454545453, ('S', 'Z'): 0.8181818181818182, ('S', 'ZH'): 0.8181818181818182, ('SH', 'SH'): 1.0, ('SH', 'T'): 0.6274509803921569, ('SH', 'TH'): 0.8823529411764706, ('SH', 'UH'): 0.0, ('SH', 'UW'): 0.0, ('SH', 'V'): 0.6470588235294118, ('SH', 'W'): 0.5686274509803921, ('SH', 'Y'): 0.49019607843137253, ('SH', 'Z'): 0.7254901960784313, ('SH', 'ZH'): 0.7254901960784313, ('T', 'T'): 1.0, ('T', 'TH'): 0.7571428571428571, ('T', 'UH'): 0.0, ('T', 'UW'): 0.0, ('T', 'V'): 0.5857142857142857, ('T', 'W'): 0.4714285714285714, ('T', 'Y'): 0.35714285714285715, ('T', 'Z'): 0.6428571428571429, ('T', 'ZH'): 0.6428571428571429, ('TH', 'TH'): 1.0, ('TH', 'UH'): 0.0, ('TH', 'UW'): 0.0, ('TH', 'V'): 0.7894736842105263, ('TH', 'W'): 0.5789473684210527, ('TH', 'Y'): 0.43859649122807015, ('TH', 'Z'): 0.7894736842105263, ('TH', 'ZH'): 0.7894736842105263, ('UH', 'UH'): 1.0, ('UH', 'UW'): 0.4482758620689655, ('UH', 'V'): 0.0, ('UH', 'W'): 0.5517241379310345, ('UH', 'Y'): 0.8275862068965517, ('UH', 'Z'): 0.13793103448275862, ('UH', 'ZH'): 0.13793103448275862, ('UW', 'UW'): 1.0, ('UW', 'V'): 0.0, ('UW', 'W'): 0.5517241379310345, ('UW', 'Y'): 0.8275862068965517, ('UW', 'Z'): 0.13793103448275862, ('UW', 'ZH'): 0.13793103448275862, ('V', 'V'): 1.0, ('V', 'W'): 0.3333333333333333, ('V', 'Y'): 0.0, ('V', 'Z'): 0.8333333333333334, ('V', 'ZH'): 0.8333333333333334, ('W', 'W'): 1.0, ('W', 'Y'): 0.3333333333333333, ('W', 'Z'): 0.0, ('W', 'ZH'): 0.0, ('Y', 'Y'): 1.0, ('Y', 'Z'): 0.0, ('Y', 'ZH'): 0.0, ('Z', 'Z'): 1.0}

def lookup_phonemes_score(phoneme_1, phoneme_2):
	if (phoneme_1, phoneme_2) in phoneme_scores_scaled:
		return phoneme_scores_scaled[(phoneme_1, phoneme_2)]
	elif (phoneme_2, phoneme_1) in phoneme_scores_scaled:
		return phoneme_scores_scaled[(phoneme_2, phoneme_1)]
	else:
		return ValueError
